<div class="clear">
	<a class="pull-right btn add-bucket-btn" href="#create-bucket">
		add bucket
	</a>
</div>

<div class="table-wrapper">
	<table class="data-table buckets-table">
		<thead>
			<tr>
				<th data-bind="css: getColumnCss('state')">
					<a href="?orderby=state">state</a>
				</th>

				<th data-bind="css: getColumnCss('name')" class="greedy text-left">
					<a href="?orderby=name">bucket name</a>
				</th>

				<th data-bind="css: getColumnCss('fileCount')">
					<a href="?orderby=filecount">files</a>
				</th>

				<th data-bind="css: getColumnCss('totalSize')">
					<a href="?orderby=totalsize">total</a>
				</th>

				<th data-bind="css: getColumnCss('freeSize')">
					<a href="?orderby=freesize">free</a>
				</th>

				<th data-bind="css: getColumnCss('cloudSyncStatus')">
					<a href="?orderby=cloudsyncstatus">Cloud Sync</a>
				</th>

				<th>Actions</th>
			</tr>
		</thead>

		<tbody data-bind="foreach: orderedBuckets">
			<tr>
				<td>
					<svg-icon params="uri: stateIcon"></svg-icon>
				</td>

				<td class="text-left">
					<a class="link" data-bind="text: name, attr: { href: href }"></a>
				</td>
				
				<td data-bind="text: fileCount"></td>
				
				<td data-bind="text: totalSize"></td>
				
				<td data-bind="text: freeSize"></td>
				
				<td data-bind="text: cloudSyncStatus.label, css: cloudSyncStatus.css"></td>
				
				<td class="text-center btn-flat">
					<svg-icon params="uri: '/assets/icons.svg#trash'" 
						data-bind="
							visible: !$component.isDeleteCandidate(name),
							click: () => $component.deleteCandidate(name)
					"></svg-icon>
					
					<span data-bind="visible: $component.isDeleteCandidate(name)">
						<a class="link" data-bind="click: () => $component.confirmDelete()">yes</a> 
						/ 
						<a class="link" data-bind="click: () => $component.cancelDelete()">no</a>
					</span>
				</td> 			
			</tr>
		</tbody>
	</table>
</div>	

 <modal params="visible: showCreateBucketModal">
 	<create-bucket-form></create-bucket-form>
 </modal>
 
 