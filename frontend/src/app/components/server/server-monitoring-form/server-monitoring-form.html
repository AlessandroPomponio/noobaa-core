<!-- Copyright (C) 2016 NooBaa -->

<h2 class="heading3 pad card-shadow">
    Services Monitoring
</h2>

<!-- ko ifnot: dataReady -->
<loading-indicator></loading-indicator>
<!-- /ko -->

<!-- ko if: dataReady -->
<table class="service-table pad">
    <!-- Version -->
    <tr ko.with="version">
        <td class="state-col">
            <svg-icon class="push-next"
                params="name: icon().name"
                ko.css="icon().css"
                ko.tooltip="icon().tooltip"
            ></svg-icon>
        </td>
        <td class="service-col highlight">
            Version:
        </td>
        <td class="info-col">
            <!-- ko if: $component.isConnected -->
            {{text}}
            <!-- /ko -->
            <!-- ko ifnot: $component.isConnected -->
            Not Available
            <!-- /ko -->
        </td>
    </tr>

    <!-- Server Time -->
    <tr ko.with="serverTime">
        <td class="state-col">
            <svg-icon class="push-next"
                params="name: icon().name"
                ko.css="icon().css"
                ko.tooltip="icon().tooltip"
            ></svg-icon>
        </td>
        <td class="service-col highlight">
            Server Date and Time:
        </td>
        <td class="info-col">
            <!-- ko if: $component.isConnected -->
            <span class="row content-middle">
                <span class="highlight push-next-half">Server Clock:</span>
                {{clock}}
            </span>
             <!-- /ko -->
            <!-- ko ifnot: $component.isConnected -->
            Not Available
            <!-- /ko -->
        </td>
        <td class="action-col"></td>
    </tr>

    <!-- Phonehome: -->
    <tr ko.with="phonehome">
        <td class="state-col">
            <svg-icon class="push-next"
                params="name: icon().name"
                ko.css="icon().css"
                ko.tooltip="icon().tooltip"
            ></svg-icon>
        </td>
        <td class="service-col highlight">
            Phonehome:
        </td>
        <td class="info-col">
            <!-- ko if: $component.isConnected -->
            <span class="row content-middle">
                <span class="highlight push-next-half">Last Sync:</span>
                {{lastStatusCheck}}
            </span>
            <!-- /ko -->
            <!-- ko ifnot: $component.isConnected -->
            Not Available
            <!-- /ko -->
        </td>
        <td class="action-col"></td>
    </tr>
</table>
<!-- /ko-->
