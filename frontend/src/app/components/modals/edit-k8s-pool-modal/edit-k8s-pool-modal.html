<!-- Copyright (C) 2016 NooBaa -->

<managed-form class="column greedy" params="
    name: formName,
    fields: formFields,
    onValidate: onValidate,
    onSubmit: onSubmit
">
    <section class="column greedy pad">
        <p class="push-next">
            A Kubernetes pool is a StatefulSet in Kubernetes, Each StatefulSet contains a certain number of pods,
            each pod serves both as an Endpoint serivce and as a Storage provider.
        </p>
        <editor class="editor-large-label"
            params="label: 'Nubmer of Nodes (pods)'"
        >
            <input type="number"
                min="1"
                step="1"
                ko.value="$form.nodeCount"
                ko.validationCss="$form.nodeCount"
            />
            <validation-message params="field: $form.nodeCount">
            </validation-message>
        </editor>
        <editor class="editor-large-label push-next"
            params="
                label: 'Node PV Size',
                tooltip: 'Editing Nodes PV size is not available for this current version'
            "
        >
            <div class="row content-middle">
                <input class="push-next"
                    type="number"
                    min="1"
                    step="1"
                    disabled
                    ko.value="$form.pvSize"
                    ko.validationCss="$form.pvSize"
                />
                <dropdown class="size-unit-dd" params="
                    options: unitOptions,
                    selected: $form.pvSizeUnit,
                    disabled: true
                "></dropdown>
            </div>
            <validation-message params="field: $form.pvSize">
            </validation-message>
        </editor>

        <h2 class="heading3">Review the Changes:</h2>
        <div class="content-box pad-double hpad row content-middle push-next">
            <div class="column greedy content-middle">
                <span class="highlight push-next-quarter">{{formattedNodeCount}}</span>
                <sapn class="remark">Nodes (Pods)</sapn>
            </div>
            <vr></vr>
            <div class="column greedy content-middle">
                <span class="highlight push-next-quarter">{{formattedCapacity}}</span>
                <sapn class="remark">Total Pool Capacity</sapn>
            </div>
            <vr></vr>
            <div class="column greedy content-middle">
                <span class="highlight push-next-quarter">StatefullSet</span>
                <sapn class="remark">Kind</sapn>
            </div>
            <vr></vr>
            <div class="column greedy content-middle">
                <span class="highlight push-next-quarter">Storage & Endpoint</span>
                <sapn class="remark">Node Services</sapn>
            </div>
        </div>
    </section>

    <div class="column pad content-box">
        <div class="row align-end content-middle">
            <button class="link alt-colors push-next"
                ko.click="onCancel"
            >
                Cancel
            </button>
            <button class="btn"
                ko.shakeOnClick="!$form.isValid()"
            >
                Save
            </button>
        </div>
    </div>
</managed-form>

