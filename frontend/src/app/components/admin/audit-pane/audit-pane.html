<div class="row content-middle push-next audit-header">
    <h1 class="heading2 greedy push-next">Audit Log</h1>
    
    <button class="btn-flat no-outline" data-bind="click: closeDrawer">
        <svg-icon params="uri: '/fe/assets/icons.svg#x'"></svg-icon>
    </button>
</div>

<div class="row content-middle">
    <h2 class="heading3 greedy">Choose Categories</h2>

    <div>
        <button class="link" data-bind="click: selectAllCategories">
            Select all
        </button>
        |
        <button class="link" data-bind="click: clearAllCategories">
            Clear
        </button>
    </div>
</div>

<multiselect class="push-next" params="
    options: categories, 
    selected: selectedCategories
"></multiselect>
    

<div class="row">
    <h3 class="heading3 greedy push-next align-end">Events</h3>

    <button class="btn-flat export-btn" data-bind="
        click: exportToCSV,
        tooltip: { text: 'Export as CSV', align: 'right'}
    ">
        <svg-icon params="uri: '/fe/assets/icons.svg#export'" ></svg-icon>
    </button>
</div>

<div class="box column greedy push-next">
    <div class="data-table greedy">
        <table data-bind="scroll: scroll">
            <thead>
                <tr>
                    <th class="time-col">Time</th>
                    <th class="user-col">Account</th>
                    <th class="category-col">Category</th>
                    <th class="event-col">Event</th>
                    <th class="entity-col text-left">Entity</th>
                </tr>
            </thead>
            <tbody data-bind="foreach: rows">
                <tr class="audit-row" data-bind="
                    css: { selected: $parent.isRowSelected($data) },
                    click: $parent.selectedRow
                ">
                    <td class="time-col text-left" data-bind="text: date"></td>
                    <td class="user-col">
                        <div class="no-wrap" data-bind="
                            text: user || '---', 
                            tooltip: user
                        "></div>
                    </td>
                    <td class="category-col" data-bind="text: category"></td>
                    <td class="event-col" data-bind="text: event"></td>
                    <td class="entity-col text-left" data-bind="text: entity"></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<h3 class="heading3">Event Description</h3>
<section class="desc-box box column">
    <div class="scrollable greedy" data-bind="foreach: description">
        <div data-bind="text: $data"></div>
    </div>
</section>


