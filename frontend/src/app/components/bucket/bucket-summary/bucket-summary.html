<!-- ko if: dataReady -->
<section class="c4 column">
    <h3 class="heading4 push-next">
        Available Capacity:
        <span data-bind="text: totalText"></span>
    </h3>

    <div class="row">
        <ul class="c7 column list-no-style legend">
            <li class="row">
                <span class="c8 emphasized">Used by bucket:</span>
                <span class="highlight" data-bind="text: usedText"></span>
            </li>
            <li class="row">
                <span class="c8 emphasized">Potential free:</span>
                <span data-bind="text: freeText"></span>
            </li>
        </ul>

        <quantity-gauge class="c5" params="values: gaugeValues"></quantity-gauge>
    </div>
</section>

<vr></vr>

<section class="c3 column">
    <h3 class="heading4 push-next">Status</h3>
    <ul class="list-no-style column">
        <li class="push-next">
            <svg-icon params="uri: stateIcon" data-bind="
                tooltip: 'Bucket state'
            "></svg-icon>
            <span data-bind="text: stateText"></span>
        </li>
        <li class="push-next">
            <svg-icon params="uri: cloudSyncIcon" data-bind="
                tooltip: 'Cloud sync status'
            "></svg-icon>
            <span data-bind="text: cloudSyncText"></span>
        </li>
        <li>
            <svg-icon params="uri: cloudSyncIcon" data-bind="
                tooltip: 'Data placement'
            "></svg-icon>
            Data placement
        </li>
    </ul>
</section>

<vr></vr>

<section class="row multiline c5 content-middle">
        <!-- ko if: hasCloudSyncPolicy -->
        <button class="btn3 push-next" data-bind="click: () => isViewCloudSyncModalVisible(true)">
            View Cloud Sync
        </button>
        <!-- /ko -->

        <!-- ko ifnot: hasCloudSyncPolicy -->
        <button class="btn3 push-next" data-bind="click: () => isSetCloudSyncModalVisible(true)">
            Set Cloud Sync
        </button>
        <!-- /ko -->

        <button class="btn3 push-next" data-bind="click: () => isPolicyModalVisible(true)">
            Edit Policy
        </button>
</section>
<!-- /ko -->

<!-- ko if: isPolicyModalVisible -->
<bucket-policy-modal params="
    policy: policy, 
    onClose: () => isPolicyModalVisible(false)
"></bucket-policy-modal>
<!-- /ko -->        



<!-- ko if: isSetCloudSyncModalVisible -->
<set-cloud-sync-modal params="
    bucketName: name, 
    onClose: () => isSetCloudSyncModalVisible(false)
"></set-cloud-sync-modal>
<!-- /ko -->  

<!-- ko if: isViewCloudSyncModalVisible -->
<cloud-sync-modal params="
    bucketName: name, 
    onClose: () => isViewCloudSyncModalVisible(false)
"></cloud-sync-modal>
<!-- /ko -->    


