<modal params="onClose: () => cancel()">
    <h1 class="heading2">
        Assign Nodes
    </h1>

    <p class="push-next text-center">
        Choose the nodes you wish to pull into this pool and increase your pool potential capacity
    </p>

    <div class="row push-next content-middle">
        <input type="search" placeholder="Search node by name or ip" class="push-next"/>
        <span class="push-next">in</span>
        <dropdown params="placeholder: 'all pools'"></dropdown>
    </div>


    <div class="row content-middle push-prev">
        <h2 class="heading3 greedy">Select nodes to assign to this pool</h2>
        <div>
            <button class="link" data-bind="click: selectAllNodes">
                Select all
            </button>
            |
            <button class="link" data-bind="click: clearAllNodes">
                Clear
            </button>
        </div>
    </div>

    <div class="box row greedy push-next">
        <div class="data-table">
        <table>
            <thead>
                <tr>
                    <th class="name-col text-left">name</th>
                    <th class="ip-col">ip</th>
                    <th class="capacity-col">capacity</th>
                    <th class="pool-col">pool</th>
                    <th class="suggested-pool-col">recommended</th>
                </tr>
            </thead>
            <tbody data-bind="
                foreach: rows,
                validationOptions: { insertMessages: false }
            ">
                <!-- ko if: isVisible -->
                <tr>
                    <td class="name-col text-left">
                        <checkbox params="
                            value: name,
                            checked: $parent.selectedNodes
                        "></checkbox>
                    </td>

                    <td class="ip-col" data-bind="text: ip"></td>

                    <td class="capacity-col" data-bind="text: capacity"></td>

                    <td class="pool-col">
                        <div class="no-wrap" data-bind="
                            text: currPool,
                            tooltip: currPool
                        "></div>
                    </td>
                    <td class="suggested-pool-col">
                         <div class="no-wrap" data-bind="
                             text: suggestedPool,
                             tooltip: suggestedPool
                         "></div>
                     </td>
                </tr>
                <!-- /ko -->
            </tbody>
        </table>

        <div class="empty-message" data-bind="
            visible: !!emptyMessage(),
            text: emptyMessage()
        "></div>
        </div>
    </div>

    <div class="row align-end ">
        <button class="action link push-next" data-bind="click: cancel">
            Cancel
        </button>
        <button class="action btn2" data-bind="click: assign">
            Assign
        </button>
    </div>
</modal>
